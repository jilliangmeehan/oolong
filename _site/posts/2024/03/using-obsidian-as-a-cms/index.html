<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="stylesheet" href="/css/fonts.css" />
        <link rel="stylesheet" href="/css/variables.css" />
        <link rel="stylesheet" href="/css/base.css" />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="favicon/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="favicon/favicon-16x16.png"
        />
        <link rel="manifest" href="favicon/site.webmanifest" />
        <link
            rel="mask-icon"
            href="favicon/safari-pinned-tab.svg"
            color="#5bbad5"
        />
        <meta name="msapplication-TileColor" content="#e5d9d4" />
        <meta name="theme-color" content="#e5d9d4" />
        <meta name="fediverse:creator" content="@jillian@sleepy.cool" />
        <title>using obsidian as a cms</title>
    </head>
    <body>
        <header role="banner" class="head">
  <div class="header_icon tea_container">
    <img src="/icons/tea.png" alt="Cup of Tea" class="tea_cup" id="teaCup" />
    <div class="speech_bubble" id="speechBubble">enjoy your tea! :)</div>
  </div>
  <div class="header_text">
    
<nav aria-label="breadcrumb" class="font-pixel">
    <a href="/">Home</a>
    <span class="separator">/</span>

                          

    <a href="/blog/">Blog</a>
    <span class="separator">/</span>
                                                                                         

    <span aria-current="page">using obsidian as a cms</span>
</nav>


<style>
    nav[aria-label="breadcrumb"] {
        text-transform: lowercase;
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
        font-size: 1.2rem;
        margin-top: 8px;
        line-height: 24px;
    }

    nav[aria-label="breadcrumb"] span.separator {
        color: #666;
    }
</style>
 
     <p class="small">
  <span class="color-beam">last updated:</span>
  <time datetime="2024-03-09T00:00:00.000Z"
    >8th of March 2024</time
  >
</p>
 
  </div>
</header>

<style>
  .head {
    display: grid;
    grid-template-columns: 48px 1fr;
    grid-template-rows: 1fr;
    gap: 0px 24px;
    justify-items: start;
  }

  .head > div > h1 {
    margin-bottom: -6px;
  }

  .tea_container {
    position: relative;
    display: inline-block;
  }
  .tea_cup {
    width: 48px;
    cursor: pointer;
    transition: transform 0.3s ease;
  }
  .tea_cup:hover {
    transform: scale(1.1);
  }
  @keyframes wiggle {
    0% {
      transform: rotate(0deg);
    }
    25% {
      transform: rotate(-10deg);
    }
    50% {
      transform: rotate(10deg);
    }
    75% {
      transform: rotate(-10deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
  .wiggle {
    animation: wiggle 0.5s ease;
  }
  .speech_bubble {
    position: absolute;
    top: 80px;
    width: 180px;
    background-color: white;
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 8px;
    font-size: 14px;
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease;
    transform: translateY(10px);
    font-family: "Departure Mono";
  }
  .speech_bubble.show {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  const teaCup = document.getElementById("teaCup");
  const speechBubble = document.getElementById("speechBubble");
  const teaCups = [
    "/icons/tea.png",
    "/icons/tea_2.png",
    "/icons/tea_3.png",
    "/icons/tea_4.png",
  ];
  let currentCup = 0;

  teaCup.addEventListener("click", () => {
    // Change tea cup
    currentCup = (currentCup + 1) % teaCups.length;
    teaCup.src = teaCups[currentCup];

    // Wiggle animation
    teaCup.classList.add("wiggle");
    setTimeout(() => teaCup.classList.remove("wiggle"), 500);

    // Show speech bubble
    speechBubble.classList.add("show");
    setTimeout(() => speechBubble.classList.remove("show"), 2000);
  });
</script>

        <main tabindex="-1" id="main-content">
            
<article><p>It took me a while to decide what I wanted to do about the dreaded content management over here. Mostly because I didnâ€™t think my ideal solutionâ€‰â€”â€‰writing stuff directly in the obsidian vault that I use for everything else all the time &amp; then being able to put what Iâ€™ve written online without needing to actually push anything to GitHub myselfâ€‰â€”â€‰was a real option. Turns out it kinda is.</p>
<p>Iâ€™m using the <a href="https://github.com/ObsidianPublisher/obsidian-github-publisher">GitHub Publisher plugin</a> for Obsidian, which has a bunch of configuration options that I am pretending to understand how to use. I added a folder to my Obsidian vaultâ€‰â€”â€‰alongside all my other folders full of notes that already existâ€‰â€”â€‰and moved all my <a href="https://jillian.garden">old blog posts</a> into it. I also set up an Obsidian template for new blog posts, with all the front matter properties I need. Now, all I need to do to publish a blog post is hit the little â€œpublishâ€ checkbox in the file properties, and the plugin will push it to the repo &amp; merge it automatically.</p>
<p><img src="./photos/obsidian_screenshot.png" alt="a screenshot of this post within my obsidian setup"></p>
<p>This plugin is cool, and it pretty much <em>is</em> the ideal solution I was looking for, but itâ€™s not perfect. It took me a couple of days of wrangling with both the plugin &amp; 11ty to figure out how to get images to actually show up in posts because of file path weirdness (the solution I ended up with was making each blog post a <a href="https://lostpaul.github.io/obsidian-folder-notes/">folder note</a> with another folder inside it for photos). The plugin also canâ€™t pull any content <em>in</em>, so if I were to add a post via some other method for whatever reason, I wouldnâ€™t be able to see &amp; edit that post in Obsidian without making a brand new copy of itâ€‰â€”â€‰not that I expect this will happen often.</p>
<h2>fun config stuff if youâ€™re nosy</h2>
<p>I will not claim to be an expert on anything thatâ€™s going on here, but these are the plugin settings that seem to be doing what I want:</p>
<ul>
<li>Since I want the file structure to stay the same as it is in my Obsidian vault, I have <strong>file tree in repository</strong> set to <strong>Obsidian path</strong>. Iâ€™m also using the folder path name replacerâ€‰â€”â€‰the name of the Obsidian folder Iâ€™m using is <code>ğŸµ oolong</code>, but the plugin very politely pretends that itâ€™s named <code>src</code> so everything will end up in the right place.</li>
<li>I have <strong>folder notes</strong> turned on, so each blog post is in its own folderâ€‰â€”â€‰the folder is named with the blog post title, and the post itself is just â€œindex.md,â€ which is what 11ty was already doing. For whatever reason, this is what fixed the issue I was having with images not showing up.</li>
<li>I have <strong>internal links</strong> and <strong>wikilink â†’ mdlink converting</strong> turned on but I donâ€™t actually know what thatâ€™s doing because I havenâ€™t tested it. I suspect Iâ€™m gonna have to play around with it to get it to work, but itâ€™s not like Iâ€™m using a lot of wikilinks here.</li>
<li>I have <strong>transfer attachments</strong> turned onâ€‰â€”â€‰this is so anything thatâ€™s not a markdown file that gets linked <em>in</em> a markdown file (e.g. an image in a blog post) also gets published. I also have attachments set to use the Obsidian structure, so they stay in the folders I put them in rather than all getting sent to the same place.</li>
<li>I changed my share key to â€œpublishâ€ rather than the default â€œshareâ€ because I like that better.</li>
</ul>
<p>So thatâ€™s what iâ€™ve been tinkering with this weekend. Right now, itâ€™s just set up for blog posts, but I want to try using this method for other types of collectionsâ€‰â€”â€‰books Iâ€™m reading, games iâ€™m playing, etc.</p>
</article>

        </main>
    </body>
    <footer><nav>
  <h2>index</h2>
  <ul role="list">
    
    <li><a href="/">home</a>â€¢</li>
    
    <li><a href="/blog">blog</a>â€¢</li>
    
    <li><a href="/shelf">shelf</a>â€¢</li>
    
    <li><a href="/meta">meta</a>â€¢</li>
    
    <li><a href="/teashop">teashop</a>â€¢</li>
    
    <li>
      <a rel="me" href="https://sleepy.cool/@jillian">mastodon</a>
    </li>
  </ul>
</nav>

<style>
  nav ul {
    display: flex;
    flex-flow: wrap;
    gap: 8px;
    margin: 0;
  }

  nav ul li a {
    margin-right: 8px;
  }

  nav ul li {
    font-family: var(--serif);
  }

  nav ul li a {
    text-decoration: underline;
    color: var(--tea) !important;
  }
</style>
</footer>

</html>
