{% set sorted_books = collections.book | sort(attribute="data.status") | reverse
%} {% set statusColors = { 'reading': '#82b78b', 'paused': '#edd495',
'finished': '#8b8fc3' } %}

<section class="shelf-table">
    <table>
        <tr>
            <th>Reading</th>
            <th>Status</th>
        </tr>
        {%- for book in sorted_books %} {%- set normalizedStatus = 'active' if
        book.data.status == 'reading' else book.data.status %}
        <tr data-status="{{ normalizedStatus }}">
            <td>
                <a href="{{ book.url }}">{{ book.data.title }}</a>
            </td>
            <td>
                <div
                    class="swatch"
                    style="background-color: {{ statusColors[book.data.status] }}"
                ></div>
                {{ book.data.status }}
            </td>
        </tr>
        {%- endfor %}
    </table>
    <p class="shelf-empty" style="display: none">Nothing here!</p>
</section>
